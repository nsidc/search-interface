doctype
html
  head
    title #{title}

    block nsidc-ssi

    link(href='contrib/bootstrap/css/bootstrap.min.css',rel='stylesheet',type='text/css')
    link(href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css',rel='stylesheet',type='text/css')
    link(href='https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.2/leaflet.css',rel='stylesheet',type='text/css')
    link(href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css',rel='stylesheet',type='text/css')
    link(href='https://cdnjs.cloudflare.com/ajax/libs/jquery.tipsy/1.0.2/jquery.tipsy.css',rel='stylesheet',type='text/css')
    block project-css

    script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/openlayers/2.13.1/lib/OpenLayers.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js')

    //- Local because of issues with requirejs/anonymous "define" when testing
    script(src='contrib/backbone/backbone-1.4.0.js')
    script(src='contrib/xregexp/xregexp-all-3.2.0.min.js')
    script(src='contrib/sprintf/sprintf.min.js')
    script(src='contrib/bootstrap/js/bootstrap-dropdown-3.2.0.min.js')
    script(src='contrib/bootstrap/js/bootstrap-datepicker-1.9.0.min.js')

    //- Local because online versions don't work with the current code
    script(src='contrib/tipsy/javascripts/jquery.tipsy.js')

    //- Local because of an rsync/symlink thing (TODO: Explore why this is needed?)
    script(src='contrib/proj4js/proj4js-1.1.0-compressed.js')

    script(src='contrib/opensearchlight/OpenSearchlight.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.2/leaflet.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/leaflet-dvf/0.2/leaflet-dvf.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.10.2/typeahead.bundle.min.js')
    script(src='https://bitbucket.org/nsidc/ie-warn/raw/master/build/ie-warn-latest.min.js')

    script(src='https://cdnjs.cloudflare.com/ajax/libs/swfobject/2.2/swfobject.min.js')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/web-socket-js/1.0.0/web_socket.min.js')

    object(width='0', height='0')
      embed(src='https://cdnjs.cloudflare.com/ajax/libs/web-socket-js/1.0.0/WebSocketMain.swf', width='0', height='0', style="position:absolute")

    script(type='text/javascript').
      // extend underscore with underscore.string
      //_.mixin(_.str.exports());

      var nsidc = nsidc || {};
      WEB_SOCKET_SWF_LOCATION = "https://cdnjs.cloudflare.com/ajax/libs/web-socket-js/1.0.0/WebSocketMain.swf";
      nsidc.project = "#{project}";
      nsidc.environment = "#{environment}";

    script(data-main="scripts/main",src='https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js')
  body
    block body
